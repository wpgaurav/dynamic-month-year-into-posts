(()=>{"use strict";var t={283(t,e,n){var a=n(997),o=n(417),r=n(723),s=n(715),i=n(427),l=n(790);const y=[{label:(0,r.__)("Year","dynamic-month-year-into-posts"),options:[{value:"year",label:(0,r.__)("Current Year","dynamic-month-year-into-posts")},{value:"nyear",label:(0,r.__)("Next Year","dynamic-month-year-into-posts")},{value:"pyear",label:(0,r.__)("Previous Year","dynamic-month-year-into-posts")}]},{label:(0,r.__)("Month","dynamic-month-year-into-posts"),options:[{value:"month",label:(0,r.__)("Current Month (Full)","dynamic-month-year-into-posts")},{value:"month_short",label:(0,r.__)("Current Month (Short)","dynamic-month-year-into-posts")},{value:"month_number",label:(0,r.__)("Current Month (Number)","dynamic-month-year-into-posts")},{value:"nmonth",label:(0,r.__)("Next Month","dynamic-month-year-into-posts")},{value:"pmonth",label:(0,r.__)("Previous Month","dynamic-month-year-into-posts")}]},{label:(0,r.__)("Date","dynamic-month-year-into-posts"),options:[{value:"date",label:(0,r.__)("Full Date","dynamic-month-year-into-posts")},{value:"monthyear",label:(0,r.__)("Month and Year","dynamic-month-year-into-posts")}]},{label:(0,r.__)("Day","dynamic-month-year-into-posts"),options:[{value:"day",label:(0,r.__)("Day of Month","dynamic-month-year-into-posts")},{value:"weekday",label:(0,r.__)("Weekday (Full)","dynamic-month-year-into-posts")},{value:"weekday_short",label:(0,r.__)("Weekday (Short)","dynamic-month-year-into-posts")}]},{label:(0,r.__)("Post Dates","dynamic-month-year-into-posts"),options:[{value:"published",label:(0,r.__)("Published Date","dynamic-month-year-into-posts")},{value:"modified",label:(0,r.__)("Modified Date","dynamic-month-year-into-posts")}]},{label:(0,r.__)("Events","dynamic-month-year-into-posts"),options:[{value:"blackfriday",label:(0,r.__)("Black Friday","dynamic-month-year-into-posts")},{value:"cybermonday",label:(0,r.__)("Cyber Monday","dynamic-month-year-into-posts")}]},{label:(0,r.__)("Countdown","dynamic-month-year-into-posts"),options:[{value:"daysuntil",label:(0,r.__)("Days Until Date","dynamic-month-year-into-posts")},{value:"dayssince",label:(0,r.__)("Days Since Date","dynamic-month-year-into-posts")}]},{label:(0,r.__)("Age","dynamic-month-year-into-posts"),options:[{value:"age",label:(0,r.__)("Age (Years)","dynamic-month-year-into-posts")},{value:"age_ym",label:(0,r.__)("Age (Years & Months)","dynamic-month-year-into-posts")},{value:"age_ymd",label:(0,r.__)("Age (Years, Months & Days)","dynamic-month-year-into-posts")}]}];function m(t,e="y"){const n=new Date(t),a=new Date;if(isNaN(n.getTime()))return"";let o=a.getFullYear()-n.getFullYear(),r=a.getMonth()-n.getMonth(),s=a.getDate()-n.getDate();switch(s<0&&(r--,s+=new Date(a.getFullYear(),a.getMonth(),0).getDate()),r<0&&(o--,r+=12),e){case"ymd":{const t=[];return o>0&&t.push(`${o} year${1!==o?"s":""}`),r>0&&t.push(`${r} month${1!==r?"s":""}`),s>0&&t.push(`${s} day${1!==s?"s":""}`),t.join(", ")||"0 days"}case"ym":{const t=[];return o>0&&t.push(`${o} year${1!==o?"s":""}`),r>0&&t.push(`${r} month${1!==r?"s":""}`),t.join(", ")||"0 months"}default:return String(o)}}(0,r.__)("Years only","dynamic-month-year-into-posts"),(0,r.__)("Years and Months","dynamic-month-year-into-posts"),(0,r.__)("Years, Months, and Days","dynamic-month-year-into-posts");const d=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"dmyip/dynamic-date","version":"1.6.0","title":"Dynamic Date","category":"widgets","icon":"calendar-alt","description":"Display dynamic dates that update automatically.","keywords":["date","year","month","dynamic","time","age"],"textdomain":"dynamic-month-year-into-posts","attributes":{"type":{"type":"string","default":"year"},"format":{"type":"string","default":""},"offset":{"type":"number","default":0},"date":{"type":"string","default":""},"ageFormat":{"type":"string","default":"y","enum":["y","ym","ymd"]}},"supports":{"html":false,"align":["left","center","right"],"typography":{"fontSize":true,"lineHeight":true},"color":{"text":true,"background":true},"spacing":{"margin":true,"padding":true}},"editorScript":"file:./index.js","render":"file:./render.php"}');(0,a.registerBlockType)(d.name,{...d,icon:o.A,edit:function({attributes:t,setAttributes:e}){const{type:n,format:a,offset:o,date:d,ageFormat:c}=t,h=(0,s.useBlockProps)(),p=function(t,e,n){const a=new Date;switch(t){case"year":return String(a.getFullYear()+e);case"nyear":return String(a.getFullYear()+1);case"pyear":return String(a.getFullYear()-1);case"month":return a.toLocaleDateString(void 0,{month:"long"});case"month_short":return a.toLocaleDateString(void 0,{month:"short"});case"month_number":return String(a.getMonth()+1);case"nmonth":return new Date(a.getFullYear(),a.getMonth()+1,1).toLocaleDateString(void 0,{month:"long"});case"pmonth":return new Date(a.getFullYear(),a.getMonth()-1,1).toLocaleDateString(void 0,{month:"long"});case"date":return a.toLocaleDateString(void 0,{month:"long",day:"numeric",year:"numeric"});case"monthyear":return a.toLocaleDateString(void 0,{month:"long",year:"numeric"});case"day":return String(a.getDate());case"weekday":return a.toLocaleDateString(void 0,{weekday:"long"});case"weekday_short":return a.toLocaleDateString(void 0,{weekday:"short"});case"published":case"modified":return(0,r.__)("(Post date)","dynamic-month-year-into-posts");case"blackfriday":return function(t){const e=new Date(t,10,1);for(;4!==e.getDay();)e.setDate(e.getDate()+1);const n=new Date(t,10,e.getDate()+21),a=new Date(n);return a.setDate(a.getDate()+1),a.toLocaleDateString(void 0,{month:"long",day:"numeric"})}(a.getFullYear());case"cybermonday":return function(t){const e=new Date(t,10,1);for(;4!==e.getDay();)e.setDate(e.getDate()+1);const n=new Date(t,10,e.getDate()+21),a=new Date(n);return a.setDate(a.getDate()+4),a.toLocaleDateString(void 0,{month:"long",day:"numeric"})}(a.getFullYear());case"daysuntil":return n?function(t){const e=new Date(t),n=new Date;n.setHours(0,0,0,0),e.setHours(0,0,0,0);const a=Math.floor((e-n)/864e5);return String(Math.max(0,a))}(n):(0,r.__)("Set date","dynamic-month-year-into-posts");case"dayssince":return n?function(t){const e=new Date(t),n=new Date;n.setHours(0,0,0,0),e.setHours(0,0,0,0);const a=Math.floor((n-e)/864e5);return String(Math.max(0,a))}(n):(0,r.__)("Set date","dynamic-month-year-into-posts");case"age":return n?m(n,"y"):(0,r.__)("Set birth date","dynamic-month-year-into-posts");case"age_ym":return n?m(n,"ym"):(0,r.__)("Set birth date","dynamic-month-year-into-posts");case"age_ymd":return n?m(n,"ymd"):(0,r.__)("Set birth date","dynamic-month-year-into-posts");default:return String(a.getFullYear())}}(n,o,d,c),u="year"===n,_="daysuntil"===n||"dayssince"===n||n.startsWith("age"),g="date"===n,v=n.startsWith("age"),b=y.reduce((t,e)=>(t.push({value:"",label:`— ${e.label} —`,disabled:!0}),t.concat(e.options)),[]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(s.InspectorControls,{children:[(0,l.jsxs)(i.PanelBody,{title:(0,r.__)("Date Settings","dynamic-month-year-into-posts"),children:[(0,l.jsx)(i.SelectControl,{label:(0,r.__)("Date Type","dynamic-month-year-into-posts"),value:n,options:b,onChange:t=>e({type:t})}),u&&(0,l.jsx)(i.__experimentalNumberControl,{label:(0,r.__)("Year Offset","dynamic-month-year-into-posts"),value:o,onChange:t=>e({offset:parseInt(t,10)||0}),help:(0,r.__)("Add or subtract years from current year.","dynamic-month-year-into-posts")}),_&&(0,l.jsx)(i.TextControl,{label:v?(0,r.__)("Birth Date","dynamic-month-year-into-posts"):(0,r.__)("Target Date","dynamic-month-year-into-posts"),value:d,onChange:t=>e({date:t}),placeholder:"YYYY-MM-DD",help:v?(0,r.__)("Enter birth date in YYYY-MM-DD format.","dynamic-month-year-into-posts"):(0,r.__)("Enter date in YYYY-MM-DD format.","dynamic-month-year-into-posts")}),g&&(0,l.jsx)(i.TextControl,{label:(0,r.__)("Custom Format","dynamic-month-year-into-posts"),value:a,onChange:t=>e({format:t}),placeholder:"F j, Y",help:(0,r.__)("PHP date format. Leave empty for default.","dynamic-month-year-into-posts")})]}),(0,l.jsxs)(i.PanelBody,{title:(0,r.__)("Preview","dynamic-month-year-into-posts"),initialOpen:!1,children:[(0,l.jsx)("p",{children:(0,l.jsx)("strong",{children:(0,r.__)("Current output:","dynamic-month-year-into-posts")})}),(0,l.jsx)("p",{style:{fontSize:"1.5em",fontWeight:"bold"},children:p}),(0,l.jsx)("p",{style:{fontSize:"0.85em",color:"#757575"},children:(0,r.__)("This is a live preview. Actual output may vary based on server settings.","dynamic-month-year-into-posts")})]})]}),(0,l.jsx)("span",{...h,children:p})]})},save:()=>null})},417(t,e,n){n.d(e,{A:()=>r});var a=n(573),o=n(790),r=(0,o.jsx)(a.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)(a.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm.5 16c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V7h15v12zM9 10H7v2h2v-2zm0 4H7v2h2v-2zm4-4h-2v2h2v-2zm4 0h-2v2h2v-2zm-4 4h-2v2h2v-2zm4 0h-2v2h2v-2z"})})},427(t){t.exports=window.wp.components},573(t){t.exports=window.wp.primitives},715(t){t.exports=window.wp.blockEditor},723(t){t.exports=window.wp.i18n},790(t){t.exports=window.ReactJSXRuntime},919(t,e,n){var a=n(997),o=n(573),r=n(790),s=(0,r.jsx)(o.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,r.jsx)(o.Path,{d:"M5.5 12h1.75l-2.5 3-2.5-3H4a8 8 0 113.134 6.35l.907-1.194A6.5 6.5 0 105.5 12zm9.53 1.97l-2.28-2.28V8.5a.75.75 0 00-1.5 0V12a.747.747 0 00.218.529l1.282-.84-1.28.842 2.5 2.5a.75.75 0 101.06-1.061z"})}),i=n(723),l=n(715),y=n(427);const m=window.wp.element;function d(t,e){if(!t)return 0;const n=new Date(t),a=new Date;a.setHours(0,0,0,0),n.setHours(0,0,0,0);const o="until"===e?Math.floor((n-a)/864e5):Math.floor((a-n)/864e5);return Math.max(0,o)}const c=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"dmyip/countdown","version":"1.6.0","title":"Live Countdown","category":"widgets","icon":"clock","description":"Display a live countdown that updates automatically.","keywords":["countdown","days","timer","until","since"],"textdomain":"dynamic-month-year-into-posts","attributes":{"mode":{"type":"string","default":"until"},"targetDate":{"type":"string","default":""},"label":{"type":"string","default":"days"},"showLabel":{"type":"boolean","default":true}},"supports":{"html":false,"align":["left","center","right"],"interactivity":true,"typography":{"fontSize":true,"lineHeight":true},"color":{"text":true,"background":true},"spacing":{"margin":true,"padding":true}},"editorScript":"file:./index.js","viewScriptModule":"file:./view.js","render":"file:./render.php"}');(0,a.registerBlockType)(c.name,{...c,icon:s,edit:function({attributes:t,setAttributes:e}){const{mode:n,targetDate:a,label:o,showLabel:s}=t,c=(0,l.useBlockProps)(),[h,p]=(0,m.useState)(d(a,n));(0,m.useEffect)(()=>{p(d(a,n))},[a,n]),(0,m.useEffect)(()=>{const t=setInterval(()=>{p(d(a,n))},6e4);return()=>clearInterval(t)},[a,n]);const u=s?`${h} ${o}`:String(h);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l.InspectorControls,{children:[(0,r.jsxs)(y.PanelBody,{title:(0,i.__)("Countdown Settings","dynamic-month-year-into-posts"),children:[(0,r.jsx)(y.SelectControl,{label:(0,i.__)("Mode","dynamic-month-year-into-posts"),value:n,options:[{value:"until",label:(0,i.__)("Days Until","dynamic-month-year-into-posts")},{value:"since",label:(0,i.__)("Days Since","dynamic-month-year-into-posts")}],onChange:t=>e({mode:t})}),(0,r.jsx)(y.TextControl,{label:(0,i.__)("Target Date","dynamic-month-year-into-posts"),value:a,onChange:t=>e({targetDate:t}),placeholder:"YYYY-MM-DD",type:"date",help:(0,i.__)("Select or enter the target date.","dynamic-month-year-into-posts")}),(0,r.jsx)(y.ToggleControl,{label:(0,i.__)("Show Label","dynamic-month-year-into-posts"),checked:s,onChange:t=>e({showLabel:t})}),s&&(0,r.jsx)(y.TextControl,{label:(0,i.__)("Label Text","dynamic-month-year-into-posts"),value:o,onChange:t=>e({label:t}),placeholder:"days"})]}),(0,r.jsxs)(y.PanelBody,{title:(0,i.__)("Preview","dynamic-month-year-into-posts"),initialOpen:!1,children:[(0,r.jsx)("p",{children:(0,r.jsx)("strong",{children:(0,i.__)("Current countdown:","dynamic-month-year-into-posts")})}),(0,r.jsx)("p",{style:{fontSize:"2em",fontWeight:"bold"},children:u}),(0,r.jsx)("p",{style:{fontSize:"0.85em",color:"#757575"},children:(0,i.__)("This countdown will update live on the frontend.","dynamic-month-year-into-posts")})]})]}),(0,r.jsx)("span",{...c,children:a?u:(0,i.__)("Set a target date","dynamic-month-year-into-posts")})]})},save:()=>null})},997(t){t.exports=window.wp.blocks}},e={};function n(a){var o=e[a];if(void 0!==o)return o.exports;var r=e[a]={exports:{}};return t[a](r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n(283),n(919);const a=window.wp.richText;var o=n(715),r=n(723),s=n(417),i=n(790);const l="dmyip/shortcode";(0,r.__)("Year","dynamic-month-year-into-posts"),(0,r.__)("Current year","dynamic-month-year-into-posts"),(0,r.__)("Next year","dynamic-month-year-into-posts"),(0,r.__)("Previous year","dynamic-month-year-into-posts"),(0,r.__)("Month","dynamic-month-year-into-posts"),(0,r.__)("Current month","dynamic-month-year-into-posts"),(0,r.__)("Month (short)","dynamic-month-year-into-posts"),(0,r.__)("Next month","dynamic-month-year-into-posts"),(0,r.__)("Previous month","dynamic-month-year-into-posts"),(0,r.__)("Date","dynamic-month-year-into-posts"),(0,r.__)("Today's date","dynamic-month-year-into-posts"),(0,r.__)("Month and year","dynamic-month-year-into-posts"),(0,r.__)("Day of month","dynamic-month-year-into-posts"),(0,r.__)("Day of week","dynamic-month-year-into-posts"),(0,r.__)("Post Dates","dynamic-month-year-into-posts"),(0,r.__)("Publication date","dynamic-month-year-into-posts"),(0,r.__)("Modified date","dynamic-month-year-into-posts"),(0,r.__)("Events","dynamic-month-year-into-posts"),(0,r.__)("Black Friday","dynamic-month-year-into-posts"),(0,r.__)("Cyber Monday","dynamic-month-year-into-posts"),(0,r.__)("Countdown","dynamic-month-year-into-posts"),(0,r.__)('e.g. date="2025-12-25"',"dynamic-month-year-into-posts"),(0,r.__)('e.g. date="2020-01-01"',"dynamic-month-year-into-posts"),(0,r.__)("Age","dynamic-month-year-into-posts"),(0,r.__)('e.g. date="1990-05-15"',"dynamic-month-year-into-posts"),(0,r.__)("34 years, 7 months","dynamic-month-year-into-posts"),(0,r.__)("34 years, 7 months, 12 days","dynamic-month-year-into-posts"),(0,a.registerFormatType)(l,{title:(0,r.__)("Dynamic Date","dynamic-month-year-into-posts"),tagName:"span",className:"dmyip-shortcode",edit:function({value:t,onChange:e}){return(0,i.jsx)(o.RichTextToolbarButton,{icon:s.A,title:(0,r.__)("Insert Dynamic Date","dynamic-month-year-into-posts"),onClick:()=>{(n=>{const o=(0,a.create)({text:n}),r=(0,a.applyFormat)(o,{type:l},0,6);e((0,a.insert)(t,r))})("[year]")}})}})})();